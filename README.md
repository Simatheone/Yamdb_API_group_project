## Проект API YamDB :page_with_curl:

## Оглавление
- [Проект API YamDB](#проект-api-yamdb-page_with_curl)
  - [Используемые технологии](#используемые-технологии)
  - [Структура проекта](#структура-проекта)
  - [Описание проекта](#описание-проекта)
  - [Алгоритм регистрации пользователей](#алгоритм-регистрации-пользователей)
  - [Пользовательские роли](#пользовательские-роли)
  - [Запуск проекта](#запуск-проекта)

---

### Используемые технологии

:snake: Python 3.8, :desktop_computer: Django 2.2.19, :card_file_box: SQlite3, :key: Djoser

---

## Структура проекта
```
bs4_parser_pep
 ├── api_yamdb/
     ├── api/
     ├── api_yamdb/
     ├── reviews/
         ├── management/
             ├── commands/
                 ...
             ...
     ├── static/
     ├── templates/
     └── manage.py
 ├── .gitignore
 ├── tests/
 ├── pytest.ini
 ├── README.md
 ├── requirements.txt
 └── setup.cfg
```

---

### Описание проекта

Проект YaMDb собирает отзывы (**Review**) пользователей на произведения (**Titles**). Произведения делятся на категории: 
- Книги
- Фильмы
- Музыка 
- Искусство и многое другое


Список категорий (**Category**) может быть расширен администратором. Например, можно добавить категорию «Изобразительное искусство» или «Ювелирка».

Сами произведения в YaMDb не хранятся, здесь нельзя посмотреть фильм или послушать музыку.

В каждой категории есть произведения: книги, фильмы или музыка. Например, в категории «Книги» могут быть произведения «Винни-Пух и все-все-все» и «Марсианские хроники», а в категории «Музыка» — песня «Давеча» группы «Насекомые» и вторая сюита Баха.

Произведению может быть присвоен жанр (**Genre**) из списка предустановленных, например, «Сказка», «Рок» или «Артхаус». Новые жанры может создавать только администратор.

Благодарные или возмущённые пользователи оставляют к произведениям текстовые отзывы (**Review**) и ставят произведению оценку в диапазоне от одного до десяти. 
Из пользовательских оценок формируется усреднённая оценка произведения — _рейтинг_. На одно произведение пользователь может оставить только один отзыв.

---

<details><summary>Более подробная информация о проекте:</summary>
<p>

### Алгоритм регистрации пользователей
Пользователь отправляет **POST-запрос** на добавление нового пользователя с параметрами email и username на эндпоинт `/api/v1/auth/signup/`.

YaMDB отправляет письмо с кодом подтверждения (**confirmation_code**) на адрес email.
Пользователь отправляет **POST-запрос** с параметрами username и confirmation_code на эндпоинт `/api/v1/auth/token/`, в ответе на запрос ему приходит Token (JWT-токен).
При желании пользователь отправляет **PATCH-запрос** на эндпоинт `/api/v1/users/me/` и заполняет поля в своём профайле.

---

### Пользовательские роли
**Аноним** — может просматривать описания произведений, читать отзывы и комментарии.

**Аутентифицированный пользователь** (user) — может, как и Аноним, читать всё, дополнительно он может публиковать отзывы и ставить оценку произведениям, может комментировать чужие отзывы. Может редактировать и удалять свои отзывы и комментарии. Эта роль присваивается по умолчанию каждому новому пользователю.

**Модератор** (moderator) — те же права, что и у Аутентифицированного пользователя плюс право удалять любые отзывы и комментарии.

**Администратор** (admin) — полные права на управление всем контентом проекта. Может создавать и удалять произведения, категории и жанры. Может назначать роли пользователям.

**Суперюзер Django** — обладет правами администратора (admin).

[:top: Вернуться к оглавлению](#оглавление)

---

</p>
</details>

### Запуск проекта
Чтобы локально развернуть проект необходимо:

1. Клонировать репозиторий:
```bash
git clone https://github.com/simatheone/Yamdb_API_group_project.git
```
2. Создать виртуальное окружение:
```bash
python3 -m venv venv
```

3. Активировать виртуальное окружение:
```bash
bash/zsh:
source venv/bin/activate

Windows:
venv\Scripts\activate.bat
```

4. Обновить pip и установить зависимости из ```requirements.txt```:
```bash
python3 -m pip install --upgrade pip
pip install -r requirements.txt
```

5. Выполнить миграции и запустить проект:
```bash
python3 manage.py migrate
python3 manage.py runserver
```

[:top: Вернуться к оглавлению](#оглавление)
